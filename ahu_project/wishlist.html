<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…ÙØ¶Ù„ØªÙŠ - Ø³ÙˆÙ‚ Ø§Ù„Ø­Ø³ÙŠÙ†</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f4f4; margin: 0; padding: 20px; }
        header { background: #006400; color: white; padding: 15px; text-align: center; border-radius: 10px; margin-bottom: 20px; position: relative; }
        .back-home { position: absolute; right: 20px; top: 15px; color: white; text-decoration: none; font-weight: bold; }
        
        .container { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
        .product-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1); position: relative; text-align: center; border-bottom: 3px solid #ff4d4d; }
        .product-info { padding: 15px; }
        .product-price { color: #006400; font-weight: bold; }
        
        .remove-btn { background: #ff4d4d; color: white; border: none; padding: 8px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px; font-weight: bold; }
        .empty-msg { text-align: center; margin-top: 50px; color: #666; font-size: 18px; }
    </style>
</head>
<body>

<header>
    <a href="home.html" class="back-home">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</a>
    <h1>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© â¤ï¸</h1>
</header>

<div class="container" id="wishlist-grid">
    </div>

<script>
    function displayWishlist() {
        const grid = document.getElementById('wishlist-grid');
        grid.innerHTML = "";
        
        // 1. Ø¬Ù„Ø¨ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©
        const wishlistNames = JSON.parse(localStorage.getItem('wishlist')) || [];
        
        // 2. Ø¬Ù„Ø¨ ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© + Ø§Ù„ÙŠ Ø£Ø¶Ø§ÙÙ‡Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
        const baseProducts = [
            { name: "ÙƒØªØ§Ø¨ ÙÙŠØ²ÙŠØ§Ø¡ 101", price: "5.00", phone: "962770000000", img: "https://cdn-icons-png.flaticon.com/512/3429/3429149.png" },
            { name: "Ø·Ù‚Ù… Ù‡Ù†Ø¯Ø³Ø© T-Square", price: "12.00", phone: "962770000000", img: "https://cdn-icons-png.flaticon.com/512/3260/3260170.png" },
            { name: "Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Casio", price: "25.00", phone: "962770000000", img: "https://cdn-icons-png.flaticon.com/512/2344/2344132.png" }
        ];
        const userProducts = JSON.parse(localStorage.getItem('userProducts')) || [];
        const allProducts = [...baseProducts, ...userProducts];

        // 3. ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø© ÙÙ‚Ø·
        const favoriteProducts = allProducts.filter(p => wishlistNames.includes(p.name));

        if (favoriteProducts.length === 0) {
            grid.innerHTML = `<p class="empty-msg">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹.. Ø§Ø°Ù‡Ø¨ Ù„Ù„Ø³ÙˆÙ‚ ÙˆØ£Ø¶Ù Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª! ğŸ›’</p>`;
            return;
        }

        favoriteProducts.forEach(product => {
            grid.innerHTML += `
                <div class="product-card">
                    <div style="height: 150px; display: flex; align-items: center; justify-content: center; padding: 10px;">
                        <img src="${product.img}" style="max-height: 100%; max-width: 100%;">
                    </div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p class="product-price">${product.price} Ø¯ÙŠÙ†Ø§Ø±</p>
                        <button class="remove-btn" onclick="removeFromWishlist('${product.name}')">Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø© âŒ</button>
                    </div>
                </div>`;
        });
    }

    function removeFromWishlist(name) {
        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        wishlist = wishlist.filter(item => item !== name);
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        displayWishlist(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    displayWishlist();
</script>

</body>
</html>